# 这里用一个[添加用户]的功能，描述整个架构的流程

# VIEW部分

1.VIEW组已实现了添加用户所需的页面逻辑

2.假设VIEW组与CONTROLLER组制定好添加用户的接口地址为 /admin/add/usr

3.假设VIEW组与CONTROLLER组制定好数据传输的json格式:

	{
	  "action": "add",
	  "type": "user",
	  "data": {
		"username": "",
		"pwd": ""
	  }
	}

4.点击“添加用户”按钮

5.向接口地址 /admin/add/usr 发送POST请求，其中传输的json数据为

	{
	  "action": "add",
	  "type": "user",
	  "data": {
		"username": "jack",
		"pwd": "123456"
	  }
	}
	
	
# CONTROLLER部分

1.Action Class收到前端来自 /admin/add/usr 的请求

2.Request Iterator解析json数据

3.通过解析发现需要执行"添加用户"的业务逻辑

4.创建对应的Model Manager，这里假设是UserManager，假设UserManager中有方法AddOne() 负责完成添加一个用户，假设CONTROLLER组与MODEL组已确定Table类需要实现AddOne功能:

	class UserManager {
	    // 添加新的用户
		public function AddOne()
		{
			return Table::addOne( new User() );;
		}
	}

5.调用AddOne()方法完成"添加用户"的业务逻辑


# MODEL部分

1.假设CONTROLLER组与MODEL组已确定Table类需要实现AddOne功能

2.Table类中有静态方法AddOne()，负责添加一条记录：

	class Table {
		public static function addOne( $arObj ) {
			return $arObj->insert();
		}
	}
	
	
	
